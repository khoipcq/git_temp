(function($){
    $(document).ready(function(){
      $("#change_password").validate({
        onfocusout: function(e){$(e).valid();},
        rules: {
          "user[password]": {
            required: true,
            minlength: 6,
            maxlength: 50
          },
          "user[password_confirmation]": {
            equalTo: "#user_password"
          }
        }, 
        messages: {
          "user[password]": {
            required: I18n.t('password_required'),
            minlength: I18n.t('password_minlength'),
            maxlength: I18n.t('password_maxlength')
          },
          "user[password_confirmation]": {
            equalTo: I18n.t('password_not_match')
          }
        },
        errorPlacement: function(error, element){
          error.appendTo(element.parent());
        }
      })
      
      $("#btn_submit").click(function(){
        if($("#change_password").valid() == false)
          return false;
        
      })
      
    })
  })(jQuery)